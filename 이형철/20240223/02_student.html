<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STUDENT</title>
</head>
<body>
  <div id="result"></div>

  <script>
    // JSONì„ ê°€ì§€ê³  ì˜¤ëŠ” ë°©ë²•
    
    // 1. XMLHttpRequest
    // XMLHttpRequestê°ì²´ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì´ˆê¸° ë²„ì „ë¶€í„° ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©
    // ë°œì „í•˜ë©´ì„œ fetch API ë“±ì¥
    let xhr = new XMLHttpRequest(); // ì„œë²„ì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ ê°ì²´ ìƒì„±
    xhr.open("GET", "student.json") // ì„œë²„ì™€ ì—°ê²°
    xhr.send();

    xhr.onreadystatechange = function(){
      if(xhr.readyState == 4 && xhr.status == 200){ // ê°€ì ¸ì˜¤ë©´
        let student = JSON.parse(xhr.responseText); // JSONê°ì²´ë¡œ ë³€í™˜
        // í™”ë©´ì— í‘œì‹œ
        document.getElementById("result").innerHTML = `
        <h1>${student.name}</h1>
        <ul><li>ì „ê³µ : ${student.major}</li>
          <li>í•™ë…„ : ${student.grade}</li></ul>
        `;
      }
    }

    // ì½˜ì†”ì— ğŸ›‘ xhr ì…ë ¥í•´ë³´ê¸°
    // 0 ì•„ë¬´ê²ƒë„ ìš”ì²­í•˜ì§€ ì•Šì€ ìƒíƒœ
    // 1 ì„œë²„ë¡œ ìë£Œ ìš”ì²­í•˜ê³  ì„±ê³µìƒíƒœ
    // 2 ì„œë²„ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ í—¤ë” ë„ì°©í•œ ìƒíƒœ
    // 3 ì„œë²„ì—ì„œ ìë£Œê°€ ë¡œë”© ì¤‘ì¸ ìƒíƒœ
    // 4 ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ
  </script>
</body>
</html>