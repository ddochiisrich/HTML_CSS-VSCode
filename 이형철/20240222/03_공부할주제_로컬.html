<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê³µë¶€í•  ì£¼ì œ_ë¡œì»¬ ìŠ¤í† ë¦¬ì§€</title>
    <style>
      #container{
        text-align: center;
      }
      form{
        padding : 30px;
        background-color: rgb(242, 242, 242);
        text-align: center;
        align-items: center;
      }
      .addBtn{
        border: none;
        background-color: white;
        border-radius: 5px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        transition: all 1s cubic-bezier(.25,.8,.25,1);
        padding: 7px;
      }
      #item{
        outline: none;
        height: 25px;
        font-size: 15px;
        border-radius: 5px;
        border: 1px solid lightgray;
      }
      ul{
        padding: 0px;
      }
      li{
        list-style: none;
        padding-left: 0px;
        margin: 0px;

      }
      span{
        font-size: 10px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h1>ğŸ“š Todo List ğŸ“š</h1>
      <p>ì˜¤ëŠ˜ í•  ì¼ì„ ê¸°ë¡í•´ë³´ì„¸ìš”!</p>
      <form>
        <input type="text" id="item" autofocus="true" />
        <button type="button" id="add" class="addBtn">ì¶”ê°€í•˜ê¸°</button>
      </form>
      <!-- ê²°ê³¼ í‘œì‹œí•  ì˜ì—­ -->
      <div id="itemList"></div>
    </div>

    <script>
      let itemList = [];
      let addBtn = document.querySelector("#add");
      let inputField = document.querySelector("#item");
      addBtn.addEventListener("click", addList) // í´ë¦­í•˜ë©´ addList í•¨ìˆ˜ ì‹¤í–‰
      // addBtn.onclick = addList; ë¼ê³  í•´ë„ ëœë‹¤. 
      // (onclock 1íšŒ), addEventListenerëŠ” ì—¬ëŸ¬ë²ˆ ê°€ëŠ¥

      // ì—”í„°í‚¤ ëˆ„ë¥´ë©´ ë‚´ìš© ì¶”ê°€ë˜ê²Œ í•˜ê¸° ìƒë‹¨ì— ë³€ìˆ˜ let inputField = document.querySelector("#item"); ì¶”ê°€ í•„ìš”í•¨
      inputField.addEventListener("keypress", function(event){
        if (event.key === "Enter") {
          event.preventDefault(); // ìƒˆë¡œê³ ì¹¨ ë°©ì§€
          addList();
        }
      })


      function addList(){
        let item = document.querySelector("#item").value; // í…ìŠ¤íŠ¸ í•„ë“œ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
        console.log(item); // ì¶”ê°€ë‚´ìš© ì½˜ì†”ì°½ í™•ì¸
        if(item != null){
          // itemList.push(item); // itemList ë°°ì—´ì˜ ëì— item ë³€ìˆ˜ ê°’ ì¶”ê°€
          itemList.unshift(item);
          document.querySelector("#item").value = "";
          document.querySelector("#item").focus();
        }

        localStorage.setItem("storageList", JSON.stringify(itemList));
        showList();

      }
      function showList(){
        let list = "<ul>"; // ëª©ë¡ ì‹œì‘í•˜ëŠ” <ul>íƒœê·¸ ì €ì¥
          for(let i = 0 ; i < itemList.length ; i ++){ // ë°°ì—´ ìš”ì†Œë§ˆë‹¤ ë°˜ë³µ
            list += "<li>" + "âœï¸ã…¤" + itemList[i] + "<span class='close' id=" +i+ ">ã…¤â </span></li>";
            // ìš”ì†Œì™€ ì‚­ì œ ë²„íŠ¼ì„ <li> ~ </li>ë¡œ ë¬¶ìŒ
          }
          list +="<ul>" // list = list + "</ul>" ëª©ë¡ì„ ëë‚´ëŠ” ë¶€ë¶„
          document.querySelector("#itemList").innerHTML = list; // listë‚´ìš©í‘œì‹œ

          let remove = document.querySelectorAll(".close"); // ì‚­ì œë²„íŠ¼
          for( let i = 0 ; i < remove.length ; i++){
            remove[i].addEventListener("click", removeList); // í•´ë‹¹ìš”ì†Œ í´ë¦­ì‹œ removeList ì‹¤í–‰
          }
      }

      function removeList(){
        console.log(this); // í´ë¦­í•œ id=ië²ˆì§¸ í™•ì¸
        let id = this.getAttribute("id"); // í´ë¦­ idê°’ ê°€ì ¸ì™€ì„œ id ë³€ìˆ˜ì— ì €ì¥
        itemList.splice(id, 1) // itemList ë°°ì—´ì—ì„œ ì¸ë±ìŠ¤ ê°’ì´ idì¸ ìš”ì†Œ 1ê°œ ì‚­ì œ
        showList(); // ë³€ê²½ëœ ë¶€ë¶„ í™”ë©´ì— í‘œì‹œ
        localStorage.setItem("storageList", JSON.stringify(itemList));

      }

      // ğŸ›‘ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í…ŒìŠ¤íŠ¸
      // localStorage.setItem(1, "ì²« ë²ˆì§¸ ê°’")
      // localStorage.getItem(1) // í‚¤ ì´ë¦„ìœ¼ë¡œ ê°€ì§€ê³  ì˜¨ë‹¤.
      // localStorage.clear()

      // ğŸ›‘ ë°°ì—´ í˜•íƒœë¡œ ì €ì¥
      // let array = [1, 2, 3]
      // localStorage.setItem('name', JSON.stringify(array));
      // // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ê°€ì§€ê³  ì˜¤ê¸°
      // let todo = localStorage.getItem('name');
      // JSON.parse(todo);

      // ì—¬ëŸ¬ ê°’ìœ¼ë¡œ ëœ ë¬¸ìì—´ì„ ê°€ì ¸ì™€ ë°°ì—´ í˜•íƒœë¡œ ë³€í™˜í•  ë•ŒëŠ”
      // ğŸ›‘ JSON.parse() ë©”ì†Œë“œë¥¼ ì‚¬ìš©
      // JSON(JavaScript Object Notation)ì€ ìë£Œë¥¼ ì£¼ê³ ë°›ëŠ” ë°©ì‹ì„ ê°€ë¦¬í‚¤ëŠ” ë§ë¡œ
      // 'ì œì´ìŠ¨' ì´ë¼ê³  ì½ëŠ”ë‹¤
      // ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©
    </script>
  </body>
</html>
